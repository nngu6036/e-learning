<div class="layout-topbar">
  <img alt="logo" src="assets/layout/images/logo-slim.png" class="mobile-logo" />
  <a class="menu-btn" (click)="eventManager.menuClick()">
        <i class="material-icons">&#xE5D2;</i>
    </a>
  <a class="topbar-menu-btn" (click)="eventManager.topbarMobileMenuClick()">
        <i class="material-icons">&#xE853;</i>
    </a>
  <div class="layout-topbar-menu-wrapper">
    <ul class="topbar-menu fadeInDown" [ngClass]="{'topbar-menu-active': parent.topbarMenuActive}" (click)="eventManager.topbarMenuClick()">
      <li #profile class="profile-item" [ngClass]="{'active-topmenuitem': parent.activeTopbarItem === profile}" (click)="eventManager.topbarRootItemClick(profile)">
        <a>
            <span class="profile-image-wrapper">
                <img [src]='user.image | imageBase64'/>
            </span>
            <span class="topbar-item-name profile-name">{{user.display_name}}</span>
        </a>
        <ul class="fadeInDown">
          <li role="menuitem">
            <a (click)="eventManager.showProfile()">
                <i class="material-icons">account_circle</i>
                <span>{{'User Profile'|translate}}</span>
            </a>
          </li>
          <li role="menuitem">
            <a (click)="eventManager.changePassword()">
                <i class="material-icons">verified_user</i>
                <span>{{'Change Password'|translate}}</span>
            </a>
          </li>
          <li role="menuitem">
            <a (click)="eventManager.logout()">
                <i class="material-icons" >exit_to_app</i>
                <span>{{'Log out'|translate}}</span>
            </a>
          </li>
        </ul>
      </li>
      <li #language [ngClass]="{'active-topmenuitem':parent.activeTopbarItem === language}" (click)="eventManager.topbarRootItemClick( language)" class="language">
        <p-dropdown [options]="langs" (onChange)="selectLang($event)" [(ngModel)]="selectedLang">
          <ng-template let-item pTemplate="selectedItem">
            <div class="ui-helper-clearfix" style="position: relative;height: 25px;">
              <span class="flag-icon" style="margin-top:4px;vertical-align:middle;float: left" [ngClass]="'flag-icon-'+item.value"></span>
              <div style="font-size:14px;float:left; margin-left: 5px; margin-top:4px;vertical-align:middle">{{item.label}}</div>
            </div>
          </ng-template>
          <ng-template let-item pTemplate="item">
            <div class="ui-helper-clearfix" style="position: relative;height: 25px;">
              <span class="flag-icon" style="vertical-align:middle" [ngClass]="'flag-icon-'+item.value"></span>
              <div style="font-size:14px;float:right;margin-top:4px;vertical-align:middle">{{item.label}}</div>
            </div>
          </ng-template>
        </p-dropdown>
      </li>
      <li #mode [ngClass]="{'active-topmenuitem':parent.activeTopbarItem === mode}" (click)="eventManager.topbarRootItemClick( mode)" *ngIf="user.IsAdmin">
        <button pButton type="button" label="{{'Administration'|translate}}" class="pink-btn" (click)="setViewMode('lms')" icon="ui-icon-swap-horiz" *ngIf="viewMode=='admin'"></button>
        <button pButton type="button" label="{{'LMS'|translate}}" class="blue-btn" (click)="setViewMode('admin')" icon="ui-icon-swap-horiz" *ngIf="viewMode=='lms'"></button>
      </li>
     
      <li #notifications [ngClass]="{'active-topmenuitem':parent.activeTopbarItem === notifications}" (click)="eventManager.topbarRootItemClick( notifications)">
        <a href="#">
                    <i class="topbar-icon material-icons">notifications</i>
                    <span class="topbar-badge animated rubberBand">4</span>
                    <span class="topbar-item-name">Notifications</span>
                </a>
        <ul class="fadeInDown">
          <li role="menuitem">
            <a href="#">
                            <i class="material-icons">bug_report</i>
                            <span>Pending tasks</span>
                        </a>
          </li>
          <li role="menuitem">
            <a href="#">
                            <i class="material-icons">event</i>
                            <span>Meeting today at 3pm</span>
                        </a>
          </li>
          <li role="menuitem">
            <a href="#">
                            <i class="material-icons">cloud_download</i>
                            <span>Download documents</span>
                        </a>
          </li>
          <li role="menuitem">
            <a href="#">
                            <i class="material-icons">flight</i>
                            <span>Book flight</span>
                        </a>
          </li>
        </ul>
      </li>
    </ul>
  </div>
</div>