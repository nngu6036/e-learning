<div class="card card-w-title">
  <h1>{{'Tickets'|translate}}</h1>
  <p-tabView>
    <p-tabPanel header="{{'My tickets'|translate}}">
      <p-dataList [value]="submitTickets" [paginator]="true" [rows]="5">
        <ng-template let-ticket pTemplate="item">
          <p-card>
            <p-header>
              <div class="head-exam">
              </div>
            </p-header>
            <div class="ui-g body-exam">
              <div class="ui-g-8">
                <h4 class="title">{{ticket.title}}</h4>
                <span class="e-status">{{TICKET_STATUS[ticket.status] | translate}}</span>
                <div class="clearfix"></div>
              </div>
              <div class="ui-g-4">
                <p-card>
                  <ul class="list-cmt">
                    <li class="clearfix">
                      <i class="material-icons">date_range</i>
                      <span class="cmt-title">{{'Open date'|translate}}</span>
                      <span class="cmt-detail">{{ticket.date_open | date : "dd/MM/yyyy"}}</span>
                    </li>
                    <li class="clearfix">
                      <i class="material-icons">date_range</i>
                      <span class="cmt-title">{{'Close date'|translate}}</span>
                      <span class="cmt-detail">{{ticket.date_close | date : "dd/MM/yyyy"}}</span>
                    </li>
                    <li class="clearfix">
                      <i class="material-icons">people</i>
                      <span class="cmt-title">{{'Submit by)'|translate}}</span>
                      <span class="cmt-detail">{{ticket.submit_user_id__DESC__}}</span>
                    </li>
                    <li class="clearfix">
                      <i class="material-icons">done</i>
                      <span class="cmt-title">{{'Approve by'|translate}}</span>
                      <span class="cmt-detail">{{ticket.approve_user_id__DESC__}}</span>
                    </li>
                  </ul>
                  <p-footer>
                    <button pButton type="button" icon="ui-icon-edit" title="{{'Details'| translate}}" label="{{'Details'|translate}}" class="purple-btn" style="margin-right:4px;" (click)="ticketDetail(ticket)"></button>
                  </p-footer>
                </p-card>
              </div>
            </div>
            <p-footer>
            </p-footer>
          </p-card>
        </ng-template>
      </p-dataList>
    </p-tabPanel>
    <p-tabPanel header="{{'Waiting for my approval'|translate}}">
      <p-dataList [value]="approvalTickets" [paginator]="true" [rows]="5">
        <ng-template let-ticket pTemplate="item">
          <p-card>
            <p-header>
              <div class="head-exam">
              </div>
            </p-header>
            <div class="ui-g body-exam">
              <div class="ui-g-8">
                <h4 class="title">{{ticket.title}}</h4>
                <span class="e-status">{{TICKET_STATUS[ticket.status] | translate}}</span>
                <div class="clearfix"></div>
              </div>
              <div class="ui-g-4">
                <p-card>
                  <ul class="list-cmt">
                    <li class="clearfix">
                      <i class="material-icons">date_range</i>
                      <span class="cmt-title">{{'Open date'|translate}}</span>
                      <span class="cmt-detail">{{ticket.date_open | date : "dd/MM/yyyy"}}</span>
                    </li>
                    <li class="clearfix">
                      <i class="material-icons">date_range</i>
                      <span class="cmt-title">{{'Close date'|translate}}</span>
                      <span class="cmt-detail">{{ticket.date_close | date : "dd/MM/yyyy"}}</span>
                    </li>
                    <li class="clearfix">
                      <i class="material-icons">people</i>
                      <span class="cmt-title">{{'Submit by)'|translate}}</span>
                      <span class="cmt-detail">{{ticket.submit_user_id__DESC__}}</span>
                    </li>
                    <li class="clearfix">
                      <i class="material-icons">done</i>
                      <span class="cmt-title">{{'Approve by'|translate}}</span>
                      <span class="cmt-detail">{{ticket.approve_user_id__DESC__}}</span>
                    </li>
                  </ul>
                  <p-footer>
                    <button pButton type="button" icon="ui-icon-check" title="{{'Approve'| translate}}" label="{{'Approve'|translate}}" class=" green-btn" style="margin-right:4px;" (click)="approveTicket(ticket)"  [disabled]="ticket.status!='open'"></button>
                    <button pButton type="button" icon="ui-icon-block" title="{{'Reject'| translate}}" label="{{'Reject'|translate}}" class=" red-btn" style="margin-right:4px;" (click)="rejectTicket(ticket)" [disabled]="ticket.status!='open'"></button>
                    <button pButton type="button" icon="ui-icon-edit" title="{{'Details'| translate}}" label="{{'Details'|translate}}" class="purple-btn" style="margin-right:4px;" (click)="ticketDetail(ticket)"></button>
                  </p-footer>
                </p-card>
              </div>
            </div>
            <p-footer>
            </p-footer>
          </p-card>
        </ng-template>
      </p-dataList>
    </p-tabPanel>
  </p-tabView>
  <ticket-dialog></ticket-dialog>
</div>