<form novalidate (ngSubmit)="save()" #f="ngForm"  autocomplete="off">
  <p-dialog header="{{'User profile'|translate}}" [(visible)]="display" modal="true" width="600" height="100%" [responsive]="true">
    <p-tabView>
      <p-tabPanel header="{{'Account info'|translate}}" leftIcon="ui-icon-people">
        <div class="ui-g ui-fluid form-group">
          <div class="ui-g-12">
            <label>{{'Parent group'|translate}}</label>
            <p-tree [value]="tree" selectionMode="single" [(selection)]="selectedNode" (onNodeSelect)="nodeSelect($event)"></p-tree>
          </div>
          <div class="ui-g-12 ">
            <span class="md-inputfield">
                <input type="text" pInputText [(ngModel)]="object.name" name="name">
                <label>{{'Name'|translate}}</label>
            </span>
          </div>
          <div class="ui-g-6">
            <span class="md-inputfield">
                <input type="text" pInputText [(ngModel)]="object.login" name="login" [disabled]="true">
                <label>{{'Login'|translate}}</label>
            </span>
          </div>
          <div class="ui-g-6">
            <label>{{'Avatar'|translate}}</label>
            <image-base64 [(src64)]="object.image"></image-base64>
          </div>
          <div class="ui-g-12">
            <p-checkbox name="admin" binary="true" label="{{'Admin user'|translate}}" [(ngModel)]="object.is_admin"></p-checkbox>
          </div>
          <div class="ui-g-12">
            <p-checkbox name="banned" binary="true" label="{{'Banned from access'|translate}}" [(ngModel)]="object.banned"></p-checkbox>
          </div>
        </div>
      </p-tabPanel>
      <p-tabPanel header="{{'Contact info'|translate}}" leftIcon="ui-icon-phone">
        <div class="ui-g ui-fluid form-group">
          <div class="ui-g-6">
            <span class="md-inputfield">
                            <input type="text" pInputText [(ngModel)]="object.email" name="email" pKeyFilter="email">
                            <label>{{'Email'|translate}}</label>
                        </span>
          </div>
          <div class="ui-g-6">
            <span class="md-inputfield">
                            <input type="text" pInputText [(ngModel)]="object.mobile" name="mobile">
                            <label>{{'Mobile'|translate}}</label>
                        </span>
          </div>
        </div>
      </p-tabPanel>
      <p-tabPanel header="{{'Course history'|translate}}" leftIcon="ui-icon-school">
        <p-table [value]="members">
          <ng-template pTemplate="header">
            <tr>
              <th>{{'Course'|translate}}</th>
              <th>{{'Register date'|translate}}</th>
              <th>{{'Enrollment status'|translate}}</th>
              <th>{{'Certificate'|translate}}</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-member>
            <tr>
              <td>{{member.course_name}}</td>
              <td>{{member.date_register}}</td>
              <td>{{COURSE_MEMBER_ENROLL_STATUS[member.enroll_status] | translate}}</td>
              <td><a [hidden]="!member.certificate" [href]="member.certificate.url">{{'Download link'|translate}}</a></td>
            </tr>
          </ng-template>
        </p-table>
      </p-tabPanel>
    </p-tabView>
    <p-footer>
      <button type="submit" pButton icon="fa-check" label="{{'Save'|translate}}"></button>
      <button type="button" pButton icon="fa-close" (click)="hide()" label="{{'Close'|translate}}"></button>
    </p-footer>
  </p-dialog>
</form>