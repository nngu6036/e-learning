<div class="ui-g user-dashboard">
  <div class="ui-g-12 dashboard-courses-list">
    <h3 class="dashboard-list-title"><i class="material-icons icon">school</i>{{'My courses'|translate}}</h3>
    <div class="ui-g-3 image-box card-course" *ngFor="let course of courses | slice:0:4">
      <div class="card">
        <div class="course-card-header">
          <img [ngClass]="{'display-none' : !course.logo}" [src]='course.logo | imageBase64' height="180" width="100%" />
          <img *ngIf="!course.logo" src="assets/images/logo/logo-course.jpg" height="180" width="100%">
        </div>
        <div class="image-box-content">
          <h4 class="title">{{course.name}}</h4>
          <span class="image-box-tag">{{COURSE_MODE[course.mode]}}</span>
          <p class="summary">{{course.summary}}</p>
          <div class="image-box-footer">
            <button pButton type="button" icon="ui-icon-arrow-forward" title="{{'Join'| translate}}" label="{{'Join'|translate}}" class="mr4 green-btn" (click)="joinCourse(course, course.member)" *ngIf="course.member!=null && course.member.role =='student' && course.status =='published'"></button>
            <button pButton type="button" icon="ui-icon-edit" title="{{'Edit course'| translate}}" label="{{'Edit'|translate}}" class="mr4 purple-btn" (click)="editSyllabus(course)" *ngIf="course.author_id==+currentUser.id"></button>
            <button pButton type="button" icon="ui-icon-supervisor-account" title="{{'Manage course'| translate}}" label="{{'Manage'|translate}}" class="mr4 orange-btn" (click)="manageCourse(course.member, course)" *ngIf="course.member && course.member.role=='teacher' && course.mode=='group' && course.status =='published'"></button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <course-syllabus-dialog></course-syllabus-dialog>

  <div class="ui-g-12 dashboard-exam-list">
    <h3 class="dashboard-list-title"><i class="material-icons icon">alarm_add</i>{{'My exams'|translate}}</h3>
    <div class="ui-g-3" *ngFor="let exam of exams | slice:0:4">
      <div class="card card-exam">
        <div class="exam-card-header">
          <img src="assets/layout/images/dashboard/usercard.png" library="serenity-layout" width="100" height="60" />
        </div>
        <div class="exam-card-content">
          <div class="exam-card-name">
            <span>{{exam.name}}</span>
          </div>
          <div class="exam-detail">
            <ul class="list-cmt">
              <li class="clearfix">
                <i class="material-icons">date_range</i>
                <span class="cmt-title">{{'Start date'|translate}}</span>
                <span class="cmt-detail">{{exam.start | date : "dd/MM/yyyy"}}</span>
              </li>
              <li class="clearfix">
                <i class="material-icons">date_range</i>
                <span class="cmt-title">{{'End date'|translate}}</span>
                <span class="cmt-detail">{{exam.end | date : "dd/MM/yyyy"}}</span>
              </li>
              <li class="clearfix">
                <i class="material-icons">alarm</i>
                <span class="cmt-title">{{'Duration (mintes)'|translate}}</span>
                <span class="cmt-detail">{{exam.duration}}</span>
              </li>
              <li class="clearfix">
                <i class="material-icons">done</i>
                <span class="cmt-title">{{'Number of question'|translate}}</span>
                <span class="cmt-detail">{{exam.question_count}}</span>
              </li>
              <li class="clearfix" *ngIf="exam.member.role=='candidate'">
                <i class="material-icons">star</i>
                <span class="cmt-title">{{'Score'|translate}}</span>
                <span class="cmt-detail">{{exam.member.score}}</span>
               </li>
              </ul>
           </div>
        </div>
        <div class="user-card-footer">
          <button pButton type="button" icon="ui-icon-arrow-forward" title="{{'Join'| translate}}" label="{{'Join'|translate}}" class="green-btn mr4" (click)="startExam(exam, exam.member)" *ngIf="exam.member.role=='candidate'" [disabled]="!exam.IsAvailable || exam.member.enroll_status=='completed'"></button>
          <button pButton type="button" icon="ui-icon-edit" title="{{'Edit content'| translate}}" label="{{'Edit'|translate}}" class="purple-btn mr4" (click)="editContent(exam)" *ngIf="exam.member.role=='supervisor'"></button>
          <button pButton type="button" icon="ui-icon-star" title="{{'Manage exam'| translate}}" label="{{'Manage'|translate}}" class="orange-btn mr4" (click)="manageExam(exam, exam.member)" *ngIf="exam.member.role=='supervisor'"></button>
        </div>
      </div>
    </div>
      <exam-content-dialog></exam-content-dialog>
      <exam-study-dialog></exam-study-dialog>
  </div>

  <div class="ui-g-12 dashboard-live-conference">
    <h3 class="dashboard-list-title"><i class="material-icons icon">perm_phone_msg</i>{{'Live conference'|translate}}</h3>
    <div class="ui-g-3" *ngFor="let member of confMembers | slice:0:4; let i = index">
      <div class="task-box task-box-{{i%4 +1}}">
        <div class="task-box-header">
          <span class="task-status">{{CONFERENCE_STATUS[member.conference.status] | translate}}</span>
        </div>
        <div class="task-box-content">
          <h4>{{member.conference.name}}</h4>
          <p class="mb10">{{'Room password'|translate}} {{':'+member.conference.room_pass}}
          </p>
        </div>
        <div class="task-box-footer">
          <button pButton type="button " label="{{ 'Join'|translate}} " class="btn-footer" icon="ui-icon-call " (click)="joinConference(member) " [disabled]="member.conference.status!='open'"></button>
        </div>
      </div>
    </div>
  </div>

</div>